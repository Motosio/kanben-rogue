body { background: #111; color: white; text-align: center; font-family: sans-serif; margin: 0; padding: 0; overflow: hidden; }
.hidden { display: none !important; }

.card {
    position: relative; width: 110px; height: 150px; background: #222; border: 3px solid #fff;
    border-radius: 10px; margin: 3px; display: inline-block; box-shadow: 0 4px 8px rgba(0,0,0,0.5);
    transition: transform 0.2s; overflow: visible;
}

.card-img-space {
    position: absolute; top: 25px; left: 50%; transform: translateX(-50%);
    width: 90px; height: 70px; background: #333; border-radius: 5px;
    display: flex; justify-content: center; align-items: center; border: 1px solid #444; overflow: hidden;
}
.card-img-space img { width: 100%; height: 100%; object-fit: cover; }

.elem-circle {
    position: absolute; top: 5px; left: 5px; width: 24px; height: 24px; border-radius: 50%;
    display: flex; justify-content: center; align-items: center; font-size: 12px; font-weight: bold; z-index: 10;
}
.elem-火 { background: #ff4400; } .elem-水 { background: #0088ff; } .elem-草 { background: #22cc44; }
.elem-光 { background: #ffffaa; color: #555; } .elem-闇 { background: #8800ff; }

.rarity-stars { position: absolute; top: 5px; right: 5px; font-size: 8px; color: #ffd700; z-index: 10; }
.card-name { position: absolute; bottom: 28px; width: 100%; font-size: 10px; font-weight: bold; background: rgba(0,0,0,0.7); padding: 2px 0; }
.card-atk { position: absolute; bottom: 5px; left: 8px; font-size: 12px; color: #ffa; }
.card-hp { position: absolute; bottom: 5px; right: 8px; font-size: 12px; color: #f66; }

.skill-tag { position: absolute; top: 32px; left: 5px; background: #ff0; color: #000; font-size: 10px; padding: 1px 3px; border-radius: 3px; z-index: 10; font-weight: bold; }
.card-status-icons { position: absolute; top: 22px; right: 5px; display: flex; flex-direction: column; font-size: 10px; z-index: 10; }

.rarity-3 { border-color: #007bff; }
.rarity-4 { border-color: #ffd700; }
.rarity-5 { border-color: #fff; animation: shine 2s linear infinite; }
@keyframes shine { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.4); } }

.dmg-flash { animation: shake 0.4s ease-in-out; border-color: #f00 !important; }
@keyframes shake { 0%, 100% { transform: translate(0,0); } 25% { transform: translate(-5px, 5px); } 75% { transform: translate(5px, -5px); } }

.dmg-popup {
    position: absolute; top: 30%; left: 50%; transform: translateX(-50%);
    font-size: 30px; color: #ff3300; font-weight: bold; text-shadow: 2px 2px #000;
    animation: floatUp 0.6s ease-out forwards; z-index: 100; pointer-events: none;
}
@keyframes floatUp { 0% { opacity: 1; transform: translate(-50%, 0) scale(1.5); } 100% { opacity: 0; transform: translate(-50%, -50px) scale(1); } }

#deck { border: 2px solid #444; background: #1a1a1a; min-height: 170px; margin: 10px; display: flex; justify-content: center; flex-wrap: wrap; border-radius: 10px; }
#sellZone { border: 2px dashed #ff4444; height: 50px; margin: 10px; display: flex; justify-content: center; align-items: center; background: rgba(255,0,0,0.1); }
#log { height: 120px; background: rgba(0,0,0,0.9); border-bottom: 2px solid #333; overflow-y: auto; font-size: 14px; padding: 10px; text-align: left; }
#enemyArea { height: 30vh; display: flex; justify-content: center; align-items: center; gap: 10px; }
#allyArea { position: fixed; bottom: 0; left: 0; width: 100%; height: 50vh; display: flex; justify-content: center; align-items: flex-end; padding-bottom: 20px; cursor: pointer; }

button { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #444; color: #fff; border: none; border-radius: 5px; margin: 5px; }
.btn-battle { background: #28a745; font-weight: bold; }
