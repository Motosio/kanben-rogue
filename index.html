<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Card Rogue - iPad Edition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="start">
    <h1>Card Rogue</h1>
    <div class="menu-buttons">
        <button onclick="startGame()">スタート</button>
        <button onclick="alert('属性の弱点を突いて勝利を目指そう！')">チュートリアル</button>
    </div>
</div>

<div id="shop" class="hidden">
    <div class="info-bar">
        <div>Coin: <span id="coinText">6</span></div>
        <div id="nextEnemyInfo">Next: ???</div>
    </div>
    
    <div id="shopCards"></div>
    <button onclick="reroll()">更新(1コイン)</button>

    <div class="deck-container">
        <h3 style="font-size: 14px; margin: 10px 0 0;">デッキ (最大5枚)</h3>
        <div id="deck"></div>
    </div>

    <div class="sell-container">
        <div id="sellZone">売却ゾーン (ここにドラッグ)</div>
    </div>
    
    <button onclick="battle()" class="btn-battle">戦闘開始</button>
</div>

<div id="battle" class="hidden">
    <div id="log"></div>
    <div id="enemyArea" style="margin-top: 20px;"></div>
    <div id="allyArea" style="margin-top: 20px;" onclick="nextTurn()"></div>
</div>

<div id="clearScreen" class="hidden">
    <h1>GAME CLEAR</h1>
    <button onclick="location.reload()">タイトルへ戻る</button>
</div>

<div id="gameOverScreen" class="hidden">
    <h1 style="color: red;">GAME OVER</h1>
    <button onclick="location.reload()">タイトルへ戻る</button>
</div>

<script>
    // --- ここからJavaScriptの全ロジック ---
    // (以前お送りした全キャラクターデータとバトルプログラムがここに入ります)
    // 文字数制限のため、ここでは主要な「スタート画面の表示管理」のみ記載します。
    // ※お手元の完全版JavaScriptコードをこの<script>〜</script>の間に貼り付けてください。

    const ui_start = document.getElementById("start");
    const ui_shop = document.getElementById("shop");

    window.onload = () => {
        // 読み込み完了時に確実にスタート画面を出す
        ui_start.classList.remove("hidden");
    };

    function startGame() {
        ui_start.classList.add("hidden");
        ui_shop.classList.remove("hidden");
        // 初期化処理...
    }
    
    // ...以降、すべてのゲームプログラムが続きます...
</script>
</body>
</html>
